<!-- loagind app -->
<div class="loading_app" data-ng-hide="appLoaded" style="z-index: 999; width: 100%; height: 100%; position: absolute; top: 0px ; left: 0px;">
    <p style="text-align:center; margin: auto; position: absolute;top: 50%;left: 41%;">
        <img src="img/reload.gif">
    </p>
</div>
<div class="modal-header" style="background-color: #cbe8ba;">
    <h3 class="modal-title title-fonte">Adicionar Perguntas a Etapa</h3>
</div>
<div class="modal-body" style="height: 400px;">
    <form role="form" name="perguntaForm" class="form-horizontal" enctype="multipart/form-data" ng-submit="buscarPerguntas()">
        <div class="col-md-12" style="padding-left: 0px; padding-right: 0px;">
            <label for="parteNome" class="col-md-2 control-label label-font">Pergunta:</label>
            <div class="col-md-10">
                <input type="text" maxlength="1000" name="parteNome" ng-model="pesquisar.parteNome" class="form-control" id="parteNome" placeholder="Pergunta">
            </div>
        </div>
        <div class="col-md-12" style="padding-left: 0px; padding-right: 0px; padding-top: 10px;">
            <label for="nivel" class="col-md-2 control-label label-font">Nível:</label>
            <div class="col-md-3">
                <select id="nivel" name="nivel" class="form-control" ng-model="pesquisar.nivel"
                        ng-options="nivel.descricao for nivel in niveis track by nivel.id">
                    <option value="">Nível</option>
                </select>
            </div>
            <label for="minha" class="col-md-3 label-font" style="padding-right: 0px; margin-top: 8px;">
                <input id="minha" class="pull-left" type="checkbox" name="minha" style="margin-top: 10px;"
                       ng-model="pesquisar.minhasPerguntas">&nbsp;Minhas Perguntas
            </label>
            <div class="col-md-3">
                <button type="submit" class="btn btn-modelo pull-right">
                    <i class="glyphicon glyphicon-search"></i>&nbsp;Pesquisar</button>
            </div>
        </div>
        <div class="col-xs-12 col-sm-12 col-md-12" style="padding-left: 0px; padding-right: 0px; padding-top: 10px; overflow: auto; height: 200px !important;">
            <table class="table table-condensed" id="tabela">
                <thead class="table-font-title">
                    <tr>
                        <th width="10">
                            <input class="pull-right" ng-change="selecionarTodas()" id="selecionar" type="checkbox" name="selecionar" ng-model="model.todos">
                        </th>
                        <th>Pergunta</th>
                        <th width="130">Nível</th>
                    </tr>
                </thead>
                <tbody class="table-font">
                    <tr ng-repeat="pergunta in model.perguntas">
                        <td><input class="pull-right" id="selecionar" type="checkbox" name="selecionar" ng-change="selecionar()" ng-model="pergunta.selecionar"></td>
                        <td>{{pergunta.descricao.substring(0, 220)+(pergunta.descricao.length>220?'...':'')}}</td>
                        <td>{{pergunta.nivel.descricao}}</td>
                    </tr>
                </tbody>
            </table>
            <span ng-show="model.perguntas.length===0">Nenhuma pergunta para esse filtro.</span>
        </div>
    </form>
</div>
<div class="modal-footer" style="background-color: #cbe8ba;">
    <button type="button" class="btn btn-default" data-ng-click="fechar()" style="font-size: 120%;">
        <i class="glyphicon glyphicon-remove-sign"></i>&nbsp;Fechar</button>
    <button type="button" class="btn btn-modelo" data-ng-click="adicionar()" style="font-size: 120%;">
        <i class="glyphicon glyphicon-plus-sign"></i>&nbsp;Adicionar</button>
</div>